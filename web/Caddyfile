# Caddyfile - FINAL
{
    acme_ca https://acme-staging-v02.api.letsencrypt.org/directory
}

# The single entrypoint for all traffic.
{$DOMAIN_NAME} {
    # Route API calls to the backend
    handle_path /api/* {
        reverse_proxy backend:3001
    }

    # Route everything else to the frontend
    handle {
        reverse_proxy frontend:3000
    }
}